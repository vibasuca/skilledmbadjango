!function(s){"use strict";function o(e,t){this.$el=e,this.ACTIVE_CLASS="open",this.initialized=!1,this.defaults={perfectScrollbar:!0},this.settings=s.extend({},this.defaults,t),this.triggerMethod=(t,i)=>{"function"==typeof this[t]&&this[t](i)},this.setOptions=function(t){this.settings=s.extend({},this.settings,t=t||{})},this.getOptions=function(){return this.settings},this.update=function(t){this.setOptions(t)},this.setHeight=function(t){this.$el.find(".modal-content-wrap").height(t)},this.init=function(){var i=this;!1===i.initialized&&(e.on("click",".modal-overlay, .button-close-modal",function(t){t.preventDefault(),t.stopPropagation(),i.close()}),i.initialized=!0,s(document.body).trigger("EdumallModalInit",[e]),i.open())},this.open=function(){var t=this;s(".edumall-modal").removeClass(t.ACTIVE_CLASS),t.init(),e.addClass(t.ACTIVE_CLASS),window.edumall.Helpers.setBodyOverflow(),this.settings.perfectScrollbar&&s.fn.perfectScrollbar&&!window.edumall.Helpers.isHandheld()&&e.find(".modal-content-wrap").perfectScrollbar(),s(document.body).trigger("EdumallModalOpen",[e]),e.trigger("EdumallModalOpen")},this.close=function(){e.removeClass(this.ACTIVE_CLASS),window.edumall.Helpers.unsetBodyOverflow(),s(document.body).trigger("EdumallModalClose",[e]),e.trigger("EdumallModalClose")},this.init()}const l="edumallModal";s.fn.extend({EdumallModal:function(e,n){return this.length?"options"===e?s.data(this.get(0),l).getOptions():this.each(function(){var t=s(this);let i=s.data(this,l);i?i.triggerMethod(e,n):(i=new o(t,e),s.data(this,l,i))}):this}})}(jQuery);