!function(L){"use strict";function n(E,t){this._isotopeOptions={itemSelector:".grid-item",percentPosition:!0,transitionDuration:0,packery:{columnWidth:".grid-sizer"},fitRows:{gutter:10}},this.init=function(){var t,o=this,i=E.find(".edumall-grid"),e=E.data("grid");0<i.length&&e&&void 0!==e.type?($edumall.isRTL&&(o._isotopeOptions.originLeft=!1),"masonry"===e.type||"metro"===e.type?o._isotopeOptions.layoutMode="packery":o._isotopeOptions.layoutMode="fitRows",i.imagesLoaded(function(){o.calculateMasonrySize(),"grid"===e.type&&(i.children(".grid-item").matchHeight(),i.isotope("layout")),i.addClass("loaded")}).one("arrangeComplete",function(){o.handlerEntranceAnimation(),o.handlerTooltips()}),L(window).on("resize",function(){o.calculateMasonrySize(),clearTimeout(t),t=setTimeout(function(){o.calculateMasonrySize()},500)})):(i.addClass("loaded"),o.handlerEntranceAnimation(),o.handlerTooltips()),E.on("EdumallQueryEnd",function(t,i,e){o.update(e)})},this.update=function(t){var i=this,e=E.data("grid"),o=E.children(".edumall-grid");0<o.length&&e&&void 0!==e.type?o.isotope().append(t).isotope("reloadItems",t).imagesLoaded().always(function(){t.addClass("animate"),i.calculateMasonrySize(i._isotopeOptions),"grid"===e.type&&(o.children(".grid-item").matchHeight(),o.isotope("layout"))}):o.append(t).imagesLoaded().always(function(){t.addClass("animate")})},this.calculateMasonrySize=function(){var t=this,i=E.children(".edumall-grid"),e=window.innerWidth,o=i[0].getBoundingClientRect().width,a=1,n=0,s=0,d=E.data("grid"),r=void 0!==d.gutter?d.gutter:0,l=void 0!==d.gutterTablet?d.gutterTablet:r,p=void 0!==d.gutterMobile?d.gutterMobile:l,c=void 0!==d.columns?d.columns:1,g=void 0!==d.columnsTablet?d.columnsTablet:c,h=void 0!==d.columnsMobile?d.columnsMobile:g,u=void 0!==d.zigzagHeight?d.zigzagHeight:0,m=void 0!==d.zigzagHeightTablet?d.zigzagHeightTablet:u,f=void 0!==d.zigzagHeightMobile?d.zigzagHeightMobile:m,y=void 0!==d.zigzagReversed&&1===d.zigzagReversed,v=1025,z=768;"undefined"!=typeof elementorFrontendConfig&&(v=elementorFrontendConfig.breakpoints.lg,z=elementorFrontendConfig.breakpoints.md),s=v<=e?(a=c,n=r,u):z<=e?(a=g,n=l,m):(a=h,n=p,f),E.attr("data-active-columns",a);var w=(o-(a-1)*n)/a,w=Math.floor(w),T=1<a?2*w+n:w,M=(i.children(".grid-sizer").css({width:w+"px"}),0),b=0,x=0,C=0,O=!1,v=1;d.ratio&&(v=d.ratio,O=!0),O&&(M=w*v,M=Math.floor(M),1<a?(b=2*M+n,C=parseInt(1.3*M),x=b-n-C):b=x=C=M),i.children(".grid-item").each(function(t){var i=L(this);0<s&&1<a&&t+1<=a?!1==y?t%2==0?i.css({marginTop:s+"px"}):i.css({marginTop:"0px"}):t%2!=0?i.css({marginTop:s+"px"}):i.css({marginTop:"0px"}):i.css({marginTop:"0px"}),2===i.data("width")?i.css({width:T+"px"}):i.css({width:w+"px"}),"grid"===d.type&&i.css({marginBottom:n+"px"}),O&&(t=i.hasClass("grid-item-height")?i:i.find(".grid-item-height"),2===i.data("height")?t.css({height:b+"px"}):1.3===i.data("height")?t.css({height:C+"px"}):.7===i.data("height")?t.css({height:x+"px"}):t.css({height:M+"px"}))}),t._isotopeOptions&&(t._isotopeOptions.packery.gutter=n,t._isotopeOptions.fitRows.gutter=n,i.isotope(t._isotopeOptions)),i.isotope("layout")},this.handlerEntranceAnimation=function(){E.children(".edumall-grid").find(".grid-item").elementorWaypoint(function(){var t=this.element||this;L(t).addClass("animate")},{offset:"90%",triggerOnce:!0})},this.handlerTooltips=function(){var o=E.data("power-tip");o&&L.powerTip&&E.find(".edumall-tooltip").each(function(t,i){var e=L(this).attr("data-tooltip");L(this).powerTip({placement:o.placement,popupClass:o.popupClass,smartPlacement:!0,mouseOnToPopup:!0}),L(this).data("powertiptarget",e)})}}L.fn.EdumallGridLayout=function(t){var i,e,o,a="string"==typeof t?t:void 0;return a?(i=[],this.each(function(){var t=L(this).data("EdumallGridLayout");i.push(t)}),e=1<arguments.length?Array.prototype.slice.call(arguments,1):void 0,o=[],this.each(function(t){var t=i[t];t?"function"==typeof t[a]?(t=t[a].apply(t,e),o.push(t)):console.warn("Method '"+a+"' not defined in $.EdumallGridLayout"):(console.warn("$.EdumallGridLayout not instantiated yet"),console.info(this),o.push(void 0))}),1<o.length?o:o[0]):this.each(function(){var t=L(this),i=new n(t);t.data("EdumallGridLayout",i),i.init()})}}(jQuery);