{"version":3,"sources":["common-archive.js"],"names":["$","document","ready","$filterWidgets","$layoutSwitcher","$filterBtn","length","removeClass","stop","hide","find","children","not","wrap","on","e","preventDefault","this","hasClass","slideUp","addClass","slideDown","setTimeout","perfectScrollbar","suppressScrollX","parent","siblings","closest","submit","data","serialize","ajax","url","$edumall","ajaxurl","type","dataType","success","results","location","reload","error","MLHttpRequest","textStatus","errorThrown","console","log","jQuery"],"mappings":"AAGA,CACA,SAAAA,GACA,aAEAA,EAAAC,QAAA,EAAAC,MAAA,WAKA,IAEAC,EA6BAC,EA9BAC,EAAAL,EAAA,iCAAA,EACAG,EAAAH,EAAA,6BAAA,EAEAK,EAAAC,QAAA,GAAAH,EAAAG,QAAA,IAIAH,EAAAI,YAAA,gBAAA,EAAAC,KAAA,EAAAC,KAAA,EACAN,EAAAO,KAAA,SAAA,EAAAC,SAAA,EAAAC,IAAA,eAAA,EAAAC,KAAA,gCAAA,EAEAV,EAAAO,KAAA,gBAAA,EAAAH,YAAA,wBAAA,EAEAF,EAAAS,GAAA,QAAA,SAAAC,GACAA,EAAAC,eAAA,EAEAhB,EAAAiB,IAAA,EAAAC,SAAA,QAAA,GACAlB,EAAAiB,IAAA,EAAAV,YAAA,QAAA,EACAJ,EAAAI,YAAA,gBAAA,EAAAC,KAAA,EAAAW,QAAA,GAAA,IAEAnB,EAAAiB,IAAA,EAAAG,SAAA,QAAA,EACAjB,EAAAiB,SAAA,gBAAA,EAAAZ,KAAA,EAAAa,UAAA,GAAA,GAGAC,WAAA,WACAnB,EAAAO,KAAA,SAAA,EAAAC,SAAA,iBAAA,EAAAY,iBAAA,CAAAC,gBAAA,CAAA,CAAA,CAAA,CACA,EAAA,GAAA,CACA,CAAA,GAIApB,EAAAJ,EAAA,0BAAA,EAEAA,EAAA,oBAAAI,CAAA,EAAAU,GAAA,SAAA,WACAd,EAAAiB,IAAA,EAAAQ,OAAA,gBAAA,EAAAC,SAAA,EAAAnB,YAAA,SAAA,EACAP,EAAAiB,IAAA,EAAAQ,OAAA,EAAAL,SAAA,SAAA,EAEApB,EAAAiB,IAAA,EAAAU,QAAA,MAAA,EAAAC,OAAA,CACA,CAAA,EAEAxB,EAAAU,GAAA,SAAA,SAAAC,GACAA,EAAAC,eAAA,EAEAa,EAAA7B,EAAAiB,IAAA,EAAAa,UAAA,EAeA,OAbA9B,EAAA+B,KAAA,CACAC,IAAAC,SAAAC,QACAC,KAAA,OACAN,KAAAA,EACAO,SAAA,OACAC,QAAA,SAAAC,GACAC,SAAAC,OAAA,CACA,EACAC,MAAA,SAAAC,EAAAC,EAAAC,GACAC,QAAAC,IAAAF,CAAA,CACA,CACA,CAAA,EAEA,CAAA,CACA,CAAA,CA7DA,CAAA,CAgEA,EAAAG,MACA","file":"../../common-archive.min.js","sourcesContent":["/**\n * Functions for archive pages.\n */\n(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\t$( document ).ready( function() {\n\t\t\tinitArchiveTopFilters();\n\t\t\tinitArchiveLayoutSwitcher();\n\t\t} );\n\n\t\tfunction initArchiveTopFilters() {\n\t\t\tvar $filterBtn = $( '#btn-toggle-archive-top-filters' );\n\t\t\tvar $filterWidgets = $( '#archive-top-filter-widgets' );\n\n\t\t\tif ( $filterBtn.length <= 0 || $filterWidgets.length <= 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$filterWidgets.removeClass( 'filters-opened' ).stop().hide();\n\t\t\t$filterWidgets.find( '.widget' ).children().not( '.widget-title' ).wrap( '<div class=\"widget-content\" />' );\n\n\t\t\t$filterWidgets.find( '.filter-swatch' ).removeClass( 'hint--bounce hint--top' );\n\n\t\t\t$filterBtn.on( 'click', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif ( $( this ).hasClass( 'active' ) ) {\n\t\t\t\t\t$( this ).removeClass( 'active' );\n\t\t\t\t\t$filterWidgets.removeClass( 'filters-opened' ).stop().slideUp( 350 );\n\t\t\t\t} else {\n\t\t\t\t\t$( this ).addClass( 'active' );\n\t\t\t\t\t$filterWidgets.addClass( 'filters-opened' ).stop().slideDown( 350 );\n\t\t\t\t}\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t$filterWidgets.find( '.widget' ).children( '.widget-content' ).perfectScrollbar( { suppressScrollX: true } );\n\t\t\t\t}, 500 );\n\t\t\t} );\n\t\t}\n\n\t\tfunction initArchiveLayoutSwitcher() {\n\t\t\tvar $layoutSwitcher = $( '#archive-layout-switcher' );\n\n\t\t\t$( 'input[type=radio]', $layoutSwitcher ).on( 'change', function() {\n\t\t\t\t$( this ).parent( '.switcher-item' ).siblings().removeClass( 'loading' );\n\t\t\t\t$( this ).parent().addClass( 'loading' );\n\n\t\t\t\t$( this ).closest( 'form' ).submit();\n\t\t\t} );\n\n\t\t\t$layoutSwitcher.on( 'submit', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar data = $( this ).serialize();\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: $edumall.ajaxurl,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: data,\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function( results ) {\n\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t},\n\t\t\t\t\terror: function( MLHttpRequest, textStatus, errorThrown ) {\n\t\t\t\t\t\tconsole.log( errorThrown );\n\t\t\t\t\t},\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t}\n\n\t}( jQuery )\n);\n"]}