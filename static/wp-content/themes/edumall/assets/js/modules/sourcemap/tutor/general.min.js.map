{"version":3,"sources":["general.js"],"names":["$","$body","handleDashboardMenuBar","window","innerWidth","addClass","removeClass","navContentHeight","innerHeight","outerHeight","height","perfectScrollbar","suppressScrollX","document","ready","body","on","evt","preventDefault","$form","this","$button","find","ajax","url","$edumall","ajaxurl","type","data","serialize","dataType","beforeSend","text","hide","success","response","message","show","location","reload","complete","questionID","$replyModal","length","val","e","hasClass","courseId","attr","course_id","action","children","$buttonWrapper","parent","status","$edumallCourseWishlist","addedText","addText","redirect_to","$that","rating","closest","review","trim","_tutorobject","review_id","html","toggleClass","target","id","jQuery"],"mappings":"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","file":"../../../tutor/general.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar $body = $( 'body' );\n\n\t\t$( document ).ready( function() {\n\t\t\t$( document.body ).on( 'submit', '#tutor-ask-question-form, #tutor-reply-question-form', function( evt ) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tvar $form = $( this );\n\t\t\t\tvar $button = $form.find( 'button[type=\"submit\"]' );\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: $edumall.ajaxurl,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: $form.serialize(),\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t$button.addClass( 'updating-icon' );\n\t\t\t\t\t\t$form.find( '.form-response-messages' ).text( '' ).removeClass( 'success error' ).hide();\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\tif ( response.success ) {\n\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).addClass( 'success' ).text( response.data.message ).show();\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).addClass( 'error' ).text( response.data.message ).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t$button.removeClass( 'updating-icon' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\t\t\t} );\n\n\t\t\t$( document.body ).on( 'click', '.btn-add-an-answer', function( evt ) {\n\t\t\t\tvar questionID = $( this ).data( 'question-id' );\n\t\t\t\tvar $replyModal = $( $( this ).data( 'edumall-target' ) );\n\n\t\t\t\tif ( $replyModal.length > 0 ) {\n\t\t\t\t\t$replyModal.find( 'input[name=\"question_id\"]' ).val( questionID );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t/**\n\t\t\t * Edition version of wishlist function.\n\t\t\t */\n\t\t\t$( document ).on( 'click', '.edumall-course-wishlist-btn', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif ( $( 'body' ).hasClass( 'logged-in' ) ) {\n\t\t\t\t\tvar $button = $( this );\n\t\t\t\t\tvar courseId = $button.attr( 'data-course-id' );\n\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: $edumall.ajaxurl,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tcourse_id: courseId,\n\t\t\t\t\t\t\t'action': 'tutor_course_add_to_wishlist'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$button.children( '.button-content-wrapper' ).addClass( 'updating-icon' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\t\tif ( data.success ) {\n\t\t\t\t\t\t\t\tvar $buttonWrapper = $button.parent( '.tm-button-wrapper' );\n\n\t\t\t\t\t\t\t\tif ( data.data.status === 'added' ) {\n\t\t\t\t\t\t\t\t\t$buttonWrapper.attr( 'aria-label', $edumallCourseWishlist.addedText );\n\t\t\t\t\t\t\t\t\t$buttonWrapper.addClass( 'added' );\n\n\t\t\t\t\t\t\t\t\t$button.addClass( 'has-wish-listed' );\n\t\t\t\t\t\t\t\t\t$button.find( '.button-text' ).text( $edumallCourseWishlist.addedText );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$buttonWrapper.attr( 'aria-label', $edumallCourseWishlist.addText );\n\t\t\t\t\t\t\t\t\t$buttonWrapper.removeClass( 'added' );\n\n\t\t\t\t\t\t\t\t\t$button.removeClass( 'has-wish-listed' );\n\t\t\t\t\t\t\t\t\t$button.find( '.button-text' ).text( $edumallCourseWishlist.addText );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.location = data.data.redirect_to;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$button.children( '.button-content-wrapper' ).removeClass( 'updating-icon' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t/**\n\t\t\t * Edition version of edit review form in single.\n\t\t\t */\n\t\t\t$( document ).on( 'click', '.custom_tutor_submit_review_btn', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar $that = $( this );\n\t\t\t\tvar rating = $that.closest( 'form' ).find( 'input[name=\"tutor_rating_gen_input\"]' ).val();\n\t\t\t\tvar review = $that.closest( 'form' ).find( 'textarea[name=\"review\"]' ).val();\n\t\t\t\treview = review.trim();\n\n\t\t\t\tvar course_id = $( 'input[name=\"tutor_course_id\"]' ).val();\n\t\t\t\tvar data = {\n\t\t\t\t\tcourse_id: course_id,\n\t\t\t\t\trating: rating,\n\t\t\t\t\treview: review,\n\t\t\t\t\taction: 'edumall_place_rating'\n\t\t\t\t};\n\n\t\t\t\tif ( review ) {\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: _tutorobject.ajaxurl,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$that.addClass( 'updating-icon' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\t\tvar review_id = data.data.review_id;\n\t\t\t\t\t\t\tvar review = data.data.review;\n\t\t\t\t\t\t\t$( '.tutor-review-' + review_id + ' .review-content' ).html( review );\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( '.btn-toggle-lesson-sidebar' ).on( 'click', function( evt ) {\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\t$body.toggleClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( document ).on( 'click', '.tutor-single-lesson-a', function() {\n\t\t\t\t$body.removeClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( document ).on( 'click', function( evt ) {\n\t\t\t\tif ( evt.target.id === 'tutor-lesson-sidebar' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '#tutor-lesson-sidebar' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '.btn-toggle-lesson-sidebar' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( window.innerWidth >= 992 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$body.removeClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( '.dashboard-header-toggle-menu' ).on( 'click', function() {\n\t\t\t\t$body.toggleClass( 'dashboard-nav-opened' );\n\t\t\t} );\n\n\t\t\t$( '#tutor-dashboard-left-menu' ).on( 'click', function( evt ) {\n\t\t\t\tif ( evt.target.id === 'dashboard-nav-wrapper' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '#dashboard-nav-wrapper' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$body.removeClass( 'dashboard-nav-opened' );\n\t\t\t} );\n\n\t\t\thandleDashboardMenuBar();\n\n\t\t\t$( window ).on( 'resize', function() {\n\t\t\t\thandleDashboardMenuBar();\n\t\t\t} );\n\t\t} );\n\n\t\tfunction handleDashboardMenuBar() {\n\t\t\tvar wWidth = window.innerWidth;\n\n\t\t\tif ( wWidth >= 1200 ) {\n\t\t\t\t$body.addClass( 'dashboard-nav-fixed' );\n\t\t\t\t// Fix when resize from mobile to desktop.\n\t\t\t\t$body.removeClass( 'dashboard-nav-opened' );\n\t\t\t} else {\n\t\t\t\t$body.removeClass( 'dashboard-nav-fixed' );\n\t\t\t}\n\n\t\t\tvar wHeight = window.innerHeight;\n\t\t\tvar navHeaderHeight = $( '.dashboard-nav-header' ).outerHeight();\n\t\t\tvar bottomSpacing = 50;\n\t\t\tvar navContentHeight = wHeight - navHeaderHeight - bottomSpacing;\n\n\t\t\t$( '.dashboard-nav-content-inner' ).height( navContentHeight ).perfectScrollbar( { suppressScrollX: true } );\n\t\t}\n\t}( jQuery )\n);\n"]}